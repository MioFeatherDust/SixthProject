{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/ProjectX/uni_app/网易云/components/musicswith/musicui/musicui.vue?1ae0","webpack:///D:/ProjectX/uni_app/网易云/components/musicswith/musicui/musicui.vue?1283","webpack:///D:/ProjectX/uni_app/网易云/components/musicswith/musicui/musicui.vue?7f05","uni-app:///components/musicswith/musicui/musicui.vue","webpack:///D:/ProjectX/uni_app/网易云/components/musicswith/musicui/musicui.vue?8c29","webpack:///D:/ProjectX/uni_app/网易云/components/musicswith/musicui/musicui.vue?5848"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,kH;AACAA,UAAU,CAACC,gBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACgB;;;AAGtE;AAC4K;AAC5K,gBAAgB,6KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,yMAEN;AACP,KAAK;AACL;AACA,aAAa,mPAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAipB,CAAgB,inBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6DrqB,gD;AACA,0C;AACA;AACA,MADA,kBACA;AACA;AACA,gBADA;AAEA,8BAFA;AAGA,qBAHA;AAIA,cAJA;AAKA,kBALA;AAMA,8BANA;AAOA,0BAPA;AAQA,uBARA;AASA,mBATA;AAUA,gBAVA;AAWA,sBAXA;AAYA,wCAZA;AAaA,UAbA;;AAeA,GAjBA;AAkBA;AACA,wBADA,EAlBA;;AAqBA,QArBA,oBAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAFA;AAGA;AACA,GAhCA;AAiCA,SAjCA,qBAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,EAIA,GAJA;AAKA,KAPA;AAQA;AACA;AACA,KAFA,EAEA,GAFA;AAGA;AACA;AACA,iBADA;AAEA,2CAFA;AAGA,yBAHA;AAIA;AACA;AACA,SANA;;AAQA,KATA;AAUA,GAvDA;AAwDA;AACA,QADA,kBACA;AACA;AACA;AACA,gBADA;;AAGA,KANA;AAOA,aAPA,uBAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAbA,MAaA;AACA;AACA;AACA;AACA;AACA,KA3BA;AA4BA,eA5BA,yBA4BA;AACA;AACA;AACA,KA/BA;AAgCA,aAhCA,uBAgCA;AACA;AACA,KAlCA;AAmCA,aAnCA,uBAmCA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OAPA,EAOA,GAPA;AAQA,KA9CA;AA+CA,eA/CA,yBA+CA;AACA;AACA;AACA,KAlDA;AAmDA,aAnDA,uBAmDA;AACA;AACA,KArDA;AAsDA,cAtDA,wBAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,WAFA;AAGA;AACA;AACA;AACA,aAHA,GAGA,KAHA;AAIA;AACA;AACA;AACA;AAVA,aACA;AACA,yEASA,CACA;AACA;AACA,OArBA;AAsBA,KA9EA;AA+EA,kBA/EA,0BA+EA,WA/EA,EA+EA,QA/EA,EA+EA;AACA;AACA;AACA;AACA;AACA,KApFA;AAqFA,iBArFA,yBAqFA,CArFA,EAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA,EAOA,IAPA;AAQA;AACA,KAhGA;AAiGA,gBAjGA,wBAiGA,KAjGA,EAiGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA;AAOA;AACA;AACA,KA9GA;AA+GA,YA/GA,sBA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAdA,MAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlJA;AAmJA,aAnJA,uBAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAhBA,MAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzLA,EAxDA;;AAmPA;AACA,uDADA,CAnPA,E;;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAisC,CAAgB,kkCAAG,EAAC,C;;;;;;;;;;;ACArtC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/musicswith/musicui/musicui.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './components/musicswith/musicui/musicui.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./musicui.vue?vue&type=template&id=523435fa&\"\nvar renderjs\nimport script from \"./musicui.vue?vue&type=script&lang=js&\"\nexport * from \"./musicui.vue?vue&type=script&lang=js&\"\nimport style0 from \"./musicui.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/musicswith/musicui/musicui.vue\"\nexport default component.exports","export * from \"-!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./musicui.vue?vue&type=template&id=523435fa&\"","var components\ntry {\n  components = {\n    uniNavBar: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-nav-bar/uni-nav-bar\" */ \"@/components/uni-nav-bar/uni-nav-bar.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !(_vm.music.name.length < 13) ? _vm.music.name.slice(0, 10) : null\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.show = !_vm.show\n    }\n\n    _vm.e1 = function($event) {\n      _vm.show = !_vm.show\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./musicui.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./musicui.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"body\">\r\n\t\t<uni-nav-bar class=\"title\" backgroundColor=\"rgba(255,255,255,0)\" >\r\n\t\t    <view>{{music.name.length&lt;13?music.name:music.name.slice(0,10)+'···'}}</view>\r\n\t\t    <uni-icons type=\"arrowthinleft\" size=\"24\" slot=\"left\" @click=\"back()\"></uni-icons>\r\n\t\t\t<view slot=\"right\"></view>\r\n\t\t</uni-nav-bar>\r\n\t\t<view class=\"blurContainer\" :style=\"{'background-image':`url(${music.img})`}\">\r\n\t\t<!-- <view class=\"blurContainer\"> -->\r\n\t\t</view>\r\n\t\t<view class=\"top\">\r\n\t\t\t<view class=\"imgStyle\" v-if=\"show\">\r\n\t\t\t\t<view class=\"cd\" :style=\"{'transform':cdrotate}\" @click=\"show=!show\">\r\n\t\t\t\t\t<image :src=\"music.img\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tb\">\r\n\t\t\t\t\t<view class=\"iconfont icon-shoucang\"></view>\r\n\t\t\t\t\t<view class=\"iconfont icon-pinglun\"></view>\r\n\t\t\t\t\t<view class=\"iconfont icon-xiazai\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"lyricsStyle\" v-else @click=\"show=!show\">\r\n\t\t\t\t<view class=\"volume\">\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"lyrics\">\r\n\t\t\t\t\t<view v-for=\"(item,index) in lyricsObjArr\" :key='index' \r\n\t\t\t\t\t:class=\"index == i ? 'sp' : '' \"\r\n\t\t\t\t\t:style=\"{'transform':itemtranslate}\">{{item.lyric}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"center\">\r\n\t\t\t<view class=\"currentTime\">\r\n\t\t\t\t{{currentTime}}\r\n\t\t\t</view>\r\n\t\t\t<view class=\"progress\"\r\n\t\t\t@click=\"clickProgress($event)\">\r\n\t\t\t\t<view class=\"line\"\r\n\t\t\t\t:style=\"{width:`${precent}`}\"></view>\r\n\t\t\t\t<view class=\"dot\"\r\n\t\t\t\t:style=\"{left:`${precent}`}\"></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"durationTime\">\r\n\t\t\t\t<!-- {{duration}} -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"buttom\">\r\n\t\t\t<view class=\"buttonlist\">\r\n\t\t\t\t<view class=\"iconfont\" :class=\"playstyle\" @click=\"swithplaystyle()\"></view>\r\n\t\t\t\t<view class=\"iconfont icon-icon-1\" @click=\"premusic()\">\t</view>\r\n\t\t\t\t<view class=\"iconfont\" :class=\"musicplay ? 'icon-icon-6' : 'icon-icon-2'\" @click=\"swithplay()\"></view>\r\n\t\t\t\t<view class=\"iconfont icon-icon-\" @click=\"nextmusic()\"></view>\r\n\t\t\t\t<view class=\"iconfont icon-icon-7\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\n\timport uniNavBar from '../../uni-nav-bar/uni-nav-bar.vue'\r\n\timport {mapState,mapGetters} from 'vuex'\r\n\tconst audio = uni.createInnerAudioContext();\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tshow:true,\r\n\t\t\t\tplaystyle:'icon-icon-3',\r\n\t\t\t\tmusicplay:true,\r\n\t\t\t\ttime:'',\r\n\t\t\t\trotatedeg:0,\r\n\t\t\t\tcdrotate:'rotate(0deg)',\r\n\t\t\t\tcurrentTime:'00:00',\r\n\t\t\t\tduration:'00:00',\r\n\t\t\t\tprecent:'0%',\r\n\t\t\t\tupdate:'',\r\n\t\t\t\tlyricsObjArr:[],\r\n\t\t\t\titemtranslate:'translateY(170px)',\r\n\t\t\t\ti:0\n\t\t\t}\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tuniNavBar\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.$store.dispatch('getlyric')\r\n\t\t\tconst src = `https://music.163.com/song/media/outer/url?id=${this.$store.state.music.id}`;\r\n\t\t\taudio.src = src;\r\n\t\t\taudio.autoplay = false;\r\n\t\t\tthis.swithplay()\r\n\t\t\t// console.log(this.$store.state.playlist,'1'),\r\n\t\t\taudio.onEnded(()=>{\r\n\t\t\t\taudio.seek(0)\r\n\t\t\t})\r\n\t\t\t// console.log(src,innerAudioContext.duration)\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\taudio.onCanplay(()=>{\r\n\t\t\t\taudio.duration\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tconst min = Math.floor(audio.duration/60)<10?`0${Math.floor(audio.duration/60)}` : Math.floor(audio.duration/60)\r\n\t\t\t\t\tconst sec = Math.floor(audio.duration%60)<10?`0${Math.floor(audio.duration%60)}` : Math.floor(audio.duration%60)\r\n\t\t\t\t\tthis.duration = `${min}:${sec}`\r\n\t\t\t\t},100)\r\n\t\t\t})\r\n\t\t\tsetTimeout(()=>{this.lyricsObjArr = this.lyric2ObjArr(this.$store.state.gqlyric)\r\n\t\t\t\t// console.log(this.lyricsObjArr[0].lyric,this.lyricsObjArr)\r\n\t\t\t},300)\r\n\t\t\taudio.onError((res)=>{\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t    title: '',\r\n\t\t\t\t    content: '错误代码'+':'+res.errCode,\r\n\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t    success: (res)=> {\r\n\t\t\t\t\t\tthis.swithplay()\r\n\t\t\t\t    }\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\n\t\tmethods: {\r\n\t\t\tback(){\r\n\t\t\t\taudio.pause()\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta:1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tswithplay(){\r\n\t\t\t\tthis.musicplay = !this.musicplay\r\n\t\t\t\tif(!this.musicplay){\r\n\t\t\t\t\tthis.rotatestart()\r\n\t\t\t\t\tthis.updatestart()\r\n\t\t\t\t\taudio.play()\r\n\t\t\t\t\t// console.log(audio.duration,audio.currentTime)\r\n\t\t\t\t\t// if(this.cdrotate.transform='rotate(0deg)'){\r\n\t\t\t\t\t// \tlet rotatedeg = this.cdrotate.transform.split(/[^\\d{n}$]+/,2)\r\n\t\t\t\t\t// \tconsole.log(rotatedeg)\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// setTimeout(=>{},100)\r\n\t\t\t\t\t// setTimeout(()=>{let rotatefeg = 0;;this.cdrotate.transform='rotate(360deg)'?this.cdrotate.transform='rotate()':this.cdrotate.transform='rotate(0deg)';console.log('yes')},100)\r\n\t\t\t\t\t// console.log(this.cdrotate.transform='rotate(180deg)')\r\n\t\t\t\t\t// console.log(this.cdrotate.transform)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.rotateend()\r\n\t\t\t\t\tthis.updateend()\r\n\t\t\t\t\taudio.pause()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trotatestart(){\r\n\t\t\t\tclearInterval(this.time)\r\n\t\t\t\tthis.rotaterun()\r\n\t\t\t},\r\n\t\t\trotateend(){\r\n\t\t\t\tclearInterval(this.time)\r\n\t\t\t},\r\n\t\t\trotaterun(){\r\n\t\t\t\tlet that = this\r\n\t\t\t\t// uni.createSelectorQuery('.cd')\r\n\t\t\t\tthat.time = setInterval(()=>{\r\n\t\t\t\t\tif(that.rotatedeg > 360 ){\r\n\t\t\t\t\t\tthat.rotatedeg = 2\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.rotatedeg += 1\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t\tthat.cdrotate = 'rotate(' + that.rotatedeg +'deg)'\r\n\t\t\t\t},100)\r\n\t\t\t},\r\n\t\t\tupdatestart(){\r\n\t\t\t\tclearInterval(this.update)\r\n\t\t\t\tthis.updateTime()\r\n\t\t\t},\r\n\t\t\tupdateend(){\r\n\t\t\t\tclearInterval(this.update)\r\n\t\t\t},\r\n\t\t\tupdateTime(){\r\n\t\t\t\tlet that = this\r\n\t\t\t\tthat.update = setInterval(()=>{\r\n\t\t\t\t\tlet currentTime = audio.currentTime\r\n\t\t\t\t\tconst mins = Math.floor(currentTime / 60) < 10 ? `0${Math.floor(currentTime / 60)}` : Math.floor(currentTime / 60)\r\n\t\t\t\t\tconst sec = Math.floor(currentTime % 60) < 10 ? `0${Math.floor(currentTime % 60)}` : Math.floor(currentTime % 60)\t\t\t\r\n\t\t\t\t\tthat.currentTime = `${mins}:${sec}`\r\n\t\t\t\t\tthat.updateProgress(audio.currentTime, audio.duration)\r\n\t\t\t\t\t\t// console.log(that.currentTime==this.lyricsObjArr[0].time)\r\n\t\t\t\t\tif(this.lyricsObjArr.length != 0){\r\n\t\t\t\t\t\t// 匹配歌词\r\n\t\t\t\t\t\tfor(let i = 0;i<this.lyricsObjArr.length;i++){\r\n\t\t\t\t\t\t\tthat.currentTime == this.lyricsObjArr[i].time ? function(){\r\n\t\t\t\t\t\t\t\tthis.i = i\r\n\t\t\t\t\t\t\t\tthis.itemtranslate = `translateY(${170 - (28 * i)}px)`\r\n\t\t\t\t\t\t\t} : false\r\n\t\t\t\t\t\t\t// if(that.currentTime == this.lyricsObjArr[i].time){\r\n\t\t\t\t\t\t\t// \tthis.i = i\r\n\t\t\t\t\t\t\t// \tthis.itemtranslate = `translateY(${170 - (28 * i)}px)`\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log(audio.currentTime,that.currentTime,mins,sec)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tupdateProgress (currentTime, duration) {\r\n\t\t\t\tconst precent = `${((currentTime / duration) * 100).toFixed(5)}%`\r\n\t\t\t\tthis.precent = precent\r\n\t\t\t\t// console.log(precent)\r\n\t\t\t\t// console.log(currentTime, duration,precent)\r\n\t\t\t},\r\n\t\t\tclickProgress(e){\r\n\t\t\t\tconst progress = uni.createSelectorQuery().select('.progress')\r\n\t\t\t\tprogress.boundingClientRect(function(data){\r\n\t\t\t\t\tlet chazhi = (e.detail.x-data.left)/data.width\r\n\t\t\t\t\taudio.seek(chazhi*audio.duration)\r\n\t\t\t\t\t// this.precent=`${Math.floor(chazhi*100)}%`\r\n\t\t\t\t\t// console.log(e.detail.x,data.left,this.precent)\r\n\t\t\t\t\t// this.zongwidth = data.width\r\n\t\t\t\t\t// console.log(this.zongwidth,data.width,data,'1')\r\n\t\t\t\t}).exec()\r\n\t\t\t\t// console.log(that.dangqianwidth,that.zongwidth)\r\n\t\t\t},\r\n\t\t\tlyric2ObjArr (lyric) {\r\n\t\t\t\tconst lyricsObjArr = []\r\n\t\t\t\tif(lyric != undefined){\r\n\t\t\t\t\tconst lineArr = lyric.split('\\n')\r\n\t\t\t\t\tlineArr.forEach(item =>{\r\n\t\t\t\t\t\tconst obj = {}\t\t\t\t  \r\n\t\t\t\t\t\tobj.lyric = item.split(']')[1] === '' ? '' : item.split(']')[1]\r\n\t\t\t\t\t\tobj.time = item.slice(1,6)\r\n\t\t\t\t\t\tobj.uid = Math.random().toString().slice(-6)\r\n\t\t\t\t\t\tlyricsObjArr.push(obj)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\n\t\t\t\treturn lyricsObjArr\n\t\t\t},\r\n\t\t\tpremusic(){\r\n\t\t\t\tfor(let i = 0 ; i < this.$store.state.playlist.length ; i++){\r\n\t\t\t\t\tconst length = this.$store.state.playlist.length-1\r\n\t\t\t\t\tif(this.$store.state.playlist[i].id === this.$store.state.music.id){\r\n\t\t\t\t\t\tif(i === 0){\r\n\t\t\t\t\t\t\tthis.$store.state.music.id = this.$store.state.playlist[`${length}`].id\r\n\t\t\t\t\t\t\tthis.$store.state.music.img = this.$store.state.playlist[`${length}`].img\r\n\t\t\t\t\t\t\tthis.$store.state.music.name = this.$store.state.playlist[`${length}`].name\r\n\t\t\t\t\t\t\tthis.$store.state.music.ar = this.$store.state.playlist[`${length}`].ar\r\n\t\t\t\t\t\t\tthis.$store.dispatch('getlyric').then(()=>{this.lyricsObjArr = this.lyric2ObjArr(this.$store.state.gqlyric)})\r\n\t\t\t\t\t\t\t// console.log(this.$store.state.playlist.length-1,i,'3')\r\n\t\t\t\t\t\t\tconst src = `https://music.163.com/song/media/outer/url?id=${this.$store.state.music.id}`;\r\n\t\t\t\t\t\t\taudio.src = src\r\n\t\t\t\t\t\t\tthis.musicplay ? this.swithplay() : false\r\n\t\t\t\t\t\t\t// uni.redirectTo({\r\n\t\t\t\t\t\t\t//     url: 'musicui'\r\n\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$store.state.music.id = this.$store.state.playlist[i-1].id\r\n\t\t\t\t\t\t\tthis.$store.state.music.img = this.$store.state.playlist[i-1].img\r\n\t\t\t\t\t\t\tthis.$store.state.music.name = this.$store.state.playlist[i-1].name\r\n\t\t\t\t\t\t\tthis.$store.state.music.ar = this.$store.state.playlist[i-1].ar\r\n\t\t\t\t\t\t\tthis.$store.dispatch('getlyric').then(()=>{this.lyricsObjArr = this.lyric2ObjArr(this.$store.state.gqlyric)})\r\n\t\t\t\t\t\t\t// console.log(this.$store.state.playlist.length-1,i,'4')\r\n\t\t\t\t\t\t\tconst src = `https://music.163.com/song/media/outer/url?id=${this.$store.state.music.id}`;\r\n\t\t\t\t\t\t\taudio.src = src\r\n\t\t\t\t\t\t\tthis.musicplay ? this.swithplay() : false\r\n\t\t\t\t\t\t\t// uni.redirectTo({\r\n\t\t\t\t\t\t\t//     url: 'musicui'\r\n\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tnextmusic(){\r\n\t\t\t\tfor(let i = 0 ; i < this.$store.state.playlist.length ; i++){\r\n\t\t\t\t\tif(this.$store.state.playlist[i].id === this.$store.state.music.id){\r\n\t\t\t\t\t\tif(i === this.$store.state.playlist.length-1){\r\n\t\t\t\t\t\t\tthis.$store.state.music.id = this.$store.state.playlist[0].id\r\n\t\t\t\t\t\t\tthis.$store.state.music.img = this.$store.state.playlist[0].img\r\n\t\t\t\t\t\t\tthis.$store.state.music.name = this.$store.state.playlist[0].name\r\n\t\t\t\t\t\t\tthis.$store.state.music.ar = this.$store.state.playlist[0].ar\r\n\t\t\t\t\t\t\tthis.$store.dispatch('getlyric').then(()=>{this.lyricsObjArr = this.lyric2ObjArr(this.$store.state.gqlyric)})\r\n\t\t\t\t\t\t\t// console.log(this.$store.state.playlist.length-1,i,'1')\r\n\t\t\t\t\t\t\tconst src = `https://music.163.com/song/media/outer/url?id=${this.$store.state.music.id}`;\r\n\t\t\t\t\t\t\taudio.src = src\r\n\t\t\t\t\t\t\taudio.autoplay = true\r\n\t\t\t\t\t\t\tthis.musicplay ? this.swithplay() : false\r\n\t\t\t\t\t\t\t// console.log('1')\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t// uni.redirectTo({\r\n\t\t\t\t\t\t\t//     url: 'musicui'\r\n\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tthis.$store.state.music.id = this.$store.state.playlist[i+1].id\r\n\t\t\t\t\t\t\tthis.$store.state.music.img = this.$store.state.playlist[i+1].img\r\n\t\t\t\t\t\t\tthis.$store.state.music.name = this.$store.state.playlist[i+1].name\r\n\t\t\t\t\t\t\tthis.$store.state.music.ar = this.$store.state.playlist[i+1].ar\r\n\t\t\t\t\t\t\tthis.$store.dispatch('getlyric').then(()=>{this.lyricsObjArr = this.lyric2ObjArr(this.$store.state.gqlyric)})\r\n\t\t\t\t\t\t\t// console.log(this.$store.state.playlist.length-1,i,'2')\r\n\t\t\t\t\t\t\tconst src = `https://music.163.com/song/media/outer/url?id=${this.$store.state.music.id}`;\r\n\t\t\t\t\t\t\taudio.src = src\r\n\t\t\t\t\t\t\taudio.autoplay = true\r\n\t\t\t\t\t\t\tthis.musicplay ? this.swithplay() : false\r\n\t\t\t\t\t\t\t// console.log('2')\r\n\t\t\t\t\t\t\t// uni.redirectTo({\r\n\t\t\t\t\t\t\t//     url: 'musicui'\r\n\t\t\t\t\t\t\t// });\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState(['music','gqlyric','playlist'])\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"stylus\">\r\n\tpage\t\t\r\n\t\tmin-height 100%\r\n\t\t.body\r\n\t\t\theight 100%\r\n\t\t\toverflow hidden\r\n\t\t\t.title\r\n\t\t\t\tpadding-top 20px\r\n\t\t\t\tposition fixed\r\n\t\t\t\ttop 0\r\n\t\t\t\tleft 0\r\n\t\t\t\twidth 100%\r\n\t\t\t\theight 44px\r\n\t\t\t\tz-index 10\r\n\t\t\t.blurContainer\r\n\t\t\t\twidth 100%\r\n\t\t\t\theight 100%\r\n\t\t\t\tbackground-position center center\r\n\t\t\t\tbackground-repeat no-repeat\r\n\t\t\t\tbackground-size cover\r\n\t\t\t\tbackground-attachment fixed\r\n\t\t\t\tposition relative\r\n\t\t\t\tfilter blur(40px)\r\n\t\t\t\toverflow hidden\r\n\t\t\t\ttransform scale(1.5)\r\n\t\t\t\tz-index 1\r\n\t\t\t\t&:after\r\n\t\t\t\t\tcontent ''\r\n\t\t\t\t\twidth 100%\r\n\t\t\t\t\theight 100%\r\n\t\t\t\t\tbackground-color rgba(255,255,255,0.25)\r\n\t\t\t\t\tposition absolute\r\n\t\t\t\t\tz-index 2\r\n\t\t\t.top\r\n\t\t\t\twidth 100%\r\n\t\t\t\theight 100%\r\n\t\t\t\tposition absolute\r\n\t\t\t\ttop 0\r\n\t\t\t\tleft 0\r\n\t\t\t\tz-index 3\r\n\t\t\t\tdisplay flex\r\n\t\t\t\tflex-direction column\r\n\t\t\t\tjustify-content space-between\r\n\t\t\t\t.imgStyle\r\n\t\t\t\t\twidth 100%\r\n\t\t\t\t\theight 80%\r\n\t\t\t\t\tdisplay flex\r\n\t\t\t\t\talign-items center\r\n\t\t\t\t\tjustify-content center\r\n\t\t\t\t\tflex-direction column\r\n\t\t\t\t\t.cd\r\n\t\t\t\t\t\twidth 100%\r\n\t\t\t\t\t\theight 85%\r\n\t\t\t\t\t\tdisplay flex\r\n\t\t\t\t\t\talign-items center\r\n\t\t\t\t\t\tjustify-content center\r\n\t\t\t\t\t\timage\r\n\t\t\t\t\t\t\twidth 500rpx\r\n\t\t\t\t\t\t\theight 500rpx\r\n\t\t\t\t\t\t\tborder-radius 50%\r\n\t\t\t\t\t.tb\r\n\t\t\t\t\t\twidth 100%\r\n\t\t\t\t\t\theight 15%\r\n\t\t\t\t\t\tdisplay flex\r\n\t\t\t\t\t\talign-items center\r\n\t\t\t\t\t\tjustify-content center\t\t\t\t\t\r\n\t\t\t\t\t\t.iconfont\r\n\t\t\t\t\t\t\twidth 100rpx\r\n\t\t\t\t\t\t\theight 100rpx\r\n\t\t\t\t\t\t\tdisplay flex\r\n\t\t\t\t\t\t\talign-items center\r\n\t\t\t\t\t\t\tjustify-content center\r\n\t\t\t\t\t\t\tfont-size 50rpx\r\n\t\t\t\t\t\t\tmargin 0 50rpx\r\n\t\t\t\t.lyricsStyle\r\n\t\t\t\t\twidth 100%\r\n\t\t\t\t\theight 60%\r\n\t\t\t\t\tdisplay flex\r\n\t\t\t\t\talign-items center\r\n\t\t\t\t\tjustify-content flex-start\r\n\t\t\t\t\tflex-direction column\r\n\t\t\t\t\tpadding-top 68px\r\n\t\t\t\t\t.volume\r\n\t\t\t\t\t\twidth 100%\r\n\t\t\t\t\t\theight 10%\r\n\t\t\t\t\t\tdisplay flex\r\n\t\t\t\t\t\talign-items center\r\n\t\t\t\t\t\tjustify-content center\r\n\t\t\t\t\t.lyrics\r\n\t\t\t\t\t\twidth 100%\r\n\t\t\t\t\t\theight 90%\r\n\t\t\t\t\t\tdisplay flex\r\n\t\t\t\t\t\talign-items center\r\n\t\t\t\t\t\tjustify-content flex-start\r\n\t\t\t\t\t\toverflow hidden\r\n\t\t\t\t\t\tflex-direction column\r\n\t\t\t\t\t\tview\r\n\t\t\t\t\t\t\twidth 100%\r\n\t\t\t\t\t\t\tfont-size 14px\r\n\t\t\t\t\t\t\tline-height 28px\r\n\t\t\t\t\t\t\tmin-height 28px\r\n\t\t\t\t\t\t\tdisplay flex\r\n\t\t\t\t\t\t\talign-items center\r\n\t\t\t\t\t\t\tjustify-content center\r\n\t\t\t\t\t\t.sp\r\n\t\t\t\t\t\t\tcolor #2C405A\r\n\t\t\t.center\r\n\t\t\t\twidth 100%\r\n\t\t\t\theight 5%\r\n\t\t\t\tposition absolute\r\n\t\t\t\tleft 0\r\n\t\t\t\ttop 80%\r\n\t\t\t\tdisplay flex\r\n\t\t\t\tflex-direction row\r\n\t\t\t\talign-items center\r\n\t\t\t\tz-index 6\r\n\t\t\t\t.currentTime\r\n\t\t\t\t\tdisplay flex\r\n\t\t\t\t\talign-items center\r\n\t\t\t\t\tjustify-content center\r\n\t\t\t\t\twidth 15%\r\n\t\t\t\t\tcolor #333333\r\n\t\t\t\t.progress\r\n\t\t\t\t\twidth 70%\r\n\t\t\t\t\theight 24rpx\r\n\t\t\t\t\tdisplay flex\r\n\t\t\t\t\talign-items center\r\n\t\t\t\t\tjustify-content flex-start\r\n\t\t\t\t\tposition relative\r\n\t\t\t\t\tborder 1px solid #8F8F94\r\n\t\t\t\t\tborder-radius 24rpx\r\n\t\t\t\t\toverflow hidden\r\n\t\t\t\t\t.line\r\n\t\t\t\t\t\tposition absolute\r\n\t\t\t\t\t\tleft 0\r\n\t\t\t\t\t\ttop 0rpx\r\n\t\t\t\t\t\theight 24rpx\r\n\t\t\t\t\t\tbackground-color: skyblue;\r\n\t\t\t\t\t\ttransition: width .1s;\r\n\t\t\t\t\t.dot\r\n\t\t\t\t\t\twidth: 24rpx;\r\n\t\t\t\t\t\theight: 24rpx;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\ttop: 0rpx;\r\n\t\t\t\t\t\tbackground-color: #ccc;\r\n\t\t\t\t\t\ttransition: left .1s;\r\n\t\t\t\t\t\tmargin-left -12rpx\r\n\t\t\t\t.durationTime\r\n\t\t\t\t\tdisplay flex\r\n\t\t\t\t\talign-items center\r\n\t\t\t\t\tjustify-content center\r\n\t\t\t\t\twidth 15%\r\n\t\t\t\t\tcolor #333333\r\n\t\t\t.buttom\r\n\t\t\t\twidth 100%\r\n\t\t\t\theight 15%\r\n\t\t\t\tposition absolute\r\n\t\t\t\tleft 0\r\n\t\t\t\tbottom 0\r\n\t\t\t\tz-index 6\r\n\t\t\t\t.buttonlist\r\n\t\t\t\t\twidth 100%\r\n\t\t\t\t\theight 100%\r\n\t\t\t\t\tdisplay flex\r\n\t\t\t\t\talign-items center\r\n\t\t\t\t\tjustify-content center\r\n\t\t\t\t\tview\r\n\t\t\t\t\t\twidth 100rpx\r\n\t\t\t\t\t\theight 100rpx\r\n\t\t\t\t\t\tpadding 0 20rpx\r\n\t\t\t\t\t\tdisplay flex\r\n\t\t\t\t\t\talign-items center\r\n\t\t\t\t\t\tjustify-content center\r\n\t\t\t\t\t\tfont-size 80rpx\r\n\t\t\t\t\t.icon-icon-6\r\n\t\t\t\t\t\tfont-size 100rpx\r\n\t\t\t\t\t.icon-icon-2\r\n\t\t\t\t\t\tfont-size 100rpx\n</style>\n","import mod from \"-!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./musicui.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../编程/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./musicui.vue?vue&type=style&index=0&lang=stylus&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1614173621816\n      var cssReload = require(\"D:/编程/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}